# 動作確認仕様書（要件定義書）

## 1. 概要

本仕様書は、搭載機器の動作確認に関する試験項目、方法、成功条件を定めるものである。本試験は、機体の安全性、信頼性、および動作の正確性を保証するために実施する。

## 2. 要件定義

### 2.1 離床検知

離床検知は、機体が発射されたことを正しく認識するための機能であり、以下の 2 つの条件のいずれかを満たすことで確定される。

- **離床検知条件 I（加速度による検知）**:
  - 6軸センサー（ICM-42688）から 1000Hz で加速度データを取得。
  - 0.02 秒（20 サンプル）ごとの平均値を算出。
  - X 軸、Y 軸、Z 軸の加速度平均値の 2 乗和が 4G² を 50 回（1 秒間）連続して超えた場合に離床を検知。

- **離床検知条件 II（気圧センサーによる検知）**:
  - 気圧センサー（LPS25HB）から 25Hz で気圧データを取得。
  - 0.2 秒（5 サンプル）ごとの平均値を算出。
  - 平均値が前回の値より 0.1 hPa 以上低下した状態が 5 回（1 秒間）連続した場合に離床を検知。
  - 離床時刻は、いずれかの条件が満たされた時刻の 1 秒前とする。

### 2.2 減速機構作動条件

減速機構は、機体の安全な降下を確保するために作動する。以下の 2 つの条件のいずれかが満たされた場合に作動する。

- **減速機構作動条件 I（タイマーによる検知）**:
  - 離床時刻から T 秒経過した場合。
  - T の値はシミュレーション結果を基に、最高高度到達から 2 秒以内に減速機構が作動する時間に設定。

- **減速機構作動条件 II（気圧センサーによる検知）**:
  - 気圧センサー（LPS25HB）から 25Hz で気圧データを取得。
  - 0.2 秒（5 サンプル）ごとの平均値を算出。
  - 平均値が前回の値より高くなる状態が 5 回（1 秒間）連続した場合に減速機構を作動。

## 3. 試験項目

### 3.1 離床検知の検証

#### 3.1.1 離床検知条件 I（加速度による検知）

- **検証方法**：
  - 検知継続回数を 3 回（0.06 秒）に変更し、気圧センサーによる検知を無効にする。
  - 基板を手で振ることで離床条件が検知されるかを確認する。
- **成功条件**：
  - 離床条件を検知し、基板上の LED が点灯する。
- **実施日**：2025 年 2 月 3 日
- **結果**：後日記載

#### 3.1.2 離床検知条件 II（気圧センサーによる検知）

- **検証方法**：
  - 気圧による離床検知条件の気圧差を 0.1 hPa から 0.005 hPa に変更し、加速度による離床検知を無効にする。
  - エレベータで上昇することで検知したかを確認する。
- **成功条件**：
  - 離床条件を検知し、基板上の LED が点灯する。
- **実施日**：2025 年 2 月 3 日
- **結果**：後日記載

### 3.2 減速機構作動条件検知の検証

#### 3.2.1 減速機構作動条件 I（タイマーによる検知）

- **検証方法**：
  - 離床検知後、減速機構作動条件をタイマーの時間指定のみとする。
  - 18 秒後にサーボモーターの回転を確認する。
- **成功条件**：
  - 離床条件を検知し、基板上の LED が点灯した 18 秒後にサーボモーターが回転する。
- **実施日**：2025 年 2 月 3 日
- **結果**：後日記載

#### 3.2.2 減速機構作動条件 II（気圧センサーによる検知）

- **検証方法**：
  - 離床検知後、減速機構作動条件を気圧センサーのみに設定する。
  - エレベータで下降してサーボモーターの回転を確認する。
- **成功条件**：
  - 離床条件を検知し、基板上の LED が点灯した後、エレベータで下降し、サーボモーターが回転する。
- **実施日**：2025 年 2 月 3 日
- **結果**：後日記載
